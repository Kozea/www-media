@import url('https://fonts.googleapis.com/css?family=Hind:300,400,500,700')

$text: #1C1C1C
$primary: #E73C4D
$bkgd: #fcfcfc

=button($bkgd,$radius,$padding,$border)
  background: $bkgd
  border: $border
  border-radius: $radius
  padding: $padding
  transition-duration: .4s

a
  color: $text
  display: inline-block
  text-decoration: none
  transform: translateX(0px)
  transition-duration: 0.3s

  &.link
    color: $primary

    &:hover
      transform: translateX(8px)

address
  font-style: normal

form
  box-sizing: border-box
  display: flex
  flex-direction: column

  label
    font-size: 0

    input, textarea, select
      box-sizing: border-box
      +button(transparent,0,15px,2px solid $text)
      color: $text
      margin-bottom: 20px
      width: 100%

    textarea
      min-height: 150px

  input[type="submit"]
    align-self: flex-end
    +button($text,25px,15px,none) 
    color: #fff
    width: 40%

    &:hover
      background-color: $primary

html
  body
    background: $bkgd
    color: $text
    display: flex
    flex-direction: column
    font-family: 'Hind', sans-serif
    margin: 0

    h1
      display: none

    h2
      font-size: 2.4em
      margin: 0

    article h2
      line-height: 1.2em
      padding-top: 50px

      & + *
        margin-top: 0

    p
      font-size: 1.3em

    ul li a
      font-size: 1.1em
      text-decoration: none
    
    ul
      padding-left: 0

      li
        list-style-type: none

    nav:first-of-type/*MENU NOIR KOZEA*/
      background: $text
      box-sizing: border-box
      height: 63px
      order: -1
      overflow: hidden
      position: absolute
      transition-duration: 0.5s
      width: calc(100% / 3)
      z-index: 1

      &:hover
        height: 100vh

      ul
        padding: 0 12%

        li
          font-size: 1.2em
          font-weight: 300
          line-height: 3em

          &:first-of-type
            margin-top: 40px

          a
            color: #fff
            display: inline-block
            letter-spacing: .5px

            &:hover
              transform: translateX(8px)
            
        &:first-of-type
          &:before
            content: url(../images/logo.svg)
            display: block
            width: 22%

          &:after
            color: #fff
            content: 'menu'
            position: absolute
            right: 10%
            top: 20px
            text-transform: uppercase

        &:last-child
          li a
            border-bottom: 2px solid #fff
            font-weight: 500
            padding: 0 5px

      & + nav /*MENU METIERS - SECTEUR D'ACTIVITE*/
        background: #fff
        border-bottom: 1px solid darken($bkgd,5%)
        margin-left: calc(100% / 3)
        width: calc((100% / 3) * 2)

        ul 
          display: flex
          margin: 0

          li
            box-shadow: 1px 0 0 darken($bkgd,5%)
            display: inline-block
            flex: 1
            font-size: .8em
            letter-spacing: 1px
            padding: 20px
            position: relative
            text-align: center
            text-transform: uppercase
            transform: perspective(1px) translateZ(0)
            transition-duration: 0.3s
            transition-property: color, background-color

            &.active
              background: $primary

              a
                color: #fff

            &:hover
              a
                color: $primary

              &.active a
                color: #fff

    &#page-index, &#page-quotation/*aside et footer cachés*/
      aside,footer
        display: none

    &#page-guarantees article dl, 
    &#page-services article section, 
    &#page-group article:last-child,
    &#page-pharmacy article:last-child,
    &#page-laboratory article:last-child,
    &#page-about article:not(:first-child)
      margin: auto
      max-width: 1024px

    &#page-about article:nth-child(2), 
    &#page-quotation, 
    &#page-guarantees article, 
    &#page-services article:first-child,
    &#page-pharmacy article:not(:first-child),
    &#page-laboratory article:not(:first-child),
    &#page-group article:not(:first-child)/*articles avec h2 centrés dans la page*/
      h2, h2 + p
        margin: auto
        text-align: center
        width: 40%

      h2 + p
        padding-bottom: 20px

    &#page-about main article:first-of-type, 
    &#page-services main article:last-of-type
      background: #fff
      margin-left: 50%
      padding: 4% 8%
      position: relative

      &:before
        background-size: cover
        content: ''
        height: 100%
        left: -100%
        position: absolute
        top: 0
        width: 100%
        z-index: -1
    
    &#page-services article:first-child, 
    &#page-pharmacy article:last-child,
    &#page-laboratory article:last-child,
    &#page-group article:last-child, /*Tableaux services*/
      > section
        display: flex
        flex-wrap: wrap
        margin-bottom: 70px
        margin-top: 30px

        section
          align-items: center
          background: #fff
          box-shadow: 0 0 1px darken($bkgd,7%)
          box-sizing: border-box
          display: flex
          flex-direction: column
          height: 300px
          line-height: 1.4em
          justify-content: end
          padding: 7% 2%
          text-align: center
          width: 33.3%
          
          h3, ul
            margin: 0

          h3
            letter-spacing: 0.1em
            text-transform: uppercase

            &:before
              display: block
              margin: 0 auto 10px
              width: 60px

          ul
            display: flex
            flex-wrap: wrap
            justify-content: center

            li:not(:last-child):after
              content: ' / '

          &#advice h3:before
            content: url(../images/services/advice.svg)

          &#website h3:before
            content: url(../images/services/website.svg)

          &#community h3:before
            content: url(../images/services/community.svg)

          &#graphics h3:before
            content: url(../images/services/graphics.svg)

          &#content h3:before
            content: url(../images/services/content.svg)

          &#media h3:before
            content: url(../images/services/media.svg)

          &#animation h3:before
            content: url(../images/services/animation.svg)

          &#integration h3:before
            content: url(../images/services/integration.svg)

          &#video h3:before
            content: url(../images/services/video.svg)

          &#offers h3:before
            content: url(../images/services/offer.svg)

    &#page-pharmacy, 
    &#page-laboratory, 
    &#page-group /*pages métiers-secteurs d'activité*/
      main article 
        &:first-child
          display: flex
          flex-direction: column
          flex-wrap: wrap
          height: calc(100vh - 63px)
          justify-content: center

          >*:not(:last-child)
            box-sizing: border-box
            padding: 0 8%
            width: 50%

          ul
            &:first-of-type
              font-size: 1.3em

            &:last-of-type
              background: #fff
              display: flex
              text-align: center
              width: 50%
              height: calc(100vh - 63px)
              flex-wrap: wrap
              margin: 0

              li
                background: #fff
                box-shadow: 0 0 1px darken($bkgd,8%)
                box-sizing: border-box
                height: calc((100vh - 63px) / 3)
                padding: 10% 2%
                width: 50%

                &:before
                  display: block
                  margin: 0 auto 10px
                  width: 22%

                &#revenue:before/*pharmacy*/
                  content: url(../images/jobs/revenue.svg)

                &#competition:before
                  content: url(../images/jobs/competition.svg)

                &#visibility:before
                  content: url(../images/jobs/visibility.svg)

                &#expert:before
                  content: url(../images/jobs/expert.svg)

                &#information:before
                  content: url(../images/jobs/information.svg)

                &#legislation:before
                  content: url(../images/jobs/legislation.svg)

                &#solutions:before/*group*/
                  content: url(../images/jobs/solutions.svg)

                &#innovation:before
                  content: url(../images/jobs/innovation.svg)

                &#quality:before
                  content: url(../images/jobs/quality.svg)

                &#duplicable:before
                  content: url(../images/jobs/duplicable.svg)

                &#image:before
                  content: url(../images/jobs/image.svg)

                &#notoriety:before/*laboratory*/
                  content: url(../images/jobs/notoriety.svg)

                &#share:before
                  content: url(../images/jobs/share.svg)

                &#collect:before
                  content: url(../images/jobs/collect.svg)

                &#offers:before
                  content: url(../images/jobs/offers.svg)

                &#reference:before
                  content: url(../images/jobs/reference.svg)
               
        &:nth-child(2)
          background: green

    &#page-index /*ACCUEIL*/
      main
        background: url(../images/bkgd-index.jpg)
        background-position: 100%
        height: calc(100vh - 63px)

        article
          align-items: center
          color: #fff
          display: flex
          flex-direction: column

          p
            +button($primary,50px,10px,none)
            text-align: center
            width: 12%

            &:hover
              background-color: $text

            a
              color: #fff
              text-decoration: none

    &#page-about article/*A PROPOS*/
      &:first-child:before
        background: url(../images/bkgd-agency.jpg)

      #members
        display: flex
        flex-wrap: wrap

        > *
          height: 250px
          margin: 0
          width: 250px

        section
          display: flex
          flex-direction: column
          justify-content: flex-end
          position: relative

          &:first-of-type
            margin-left: 500px

          &:after
            background: rgba($primary,0.6)
            content: ''
            height: 200px
            left: 25px
            opacity: 0
            position: absolute
            top: 25px
            transform: scale(0)
            transition: opacity 0.35s, transform 0.35s
            width: 200px
            z-index: -1

          h4, p
            color: #fff
            opacity: 0
            padding: 0 12%
            transform: scale(0)
            transition: opacity 0.35s, transform 0.35s

          h4
            font-size: 1.2em
            font-weight: 400
            line-height: 2.2em
            margin: 0

            &:after
              background: #fff
              content: ''
              display: block
              height: 2px
              width: 25px

          p
            font-size: 1em
            font-style: italic
            line-height: 1.2em
            padding-bottom: 20px

          img
            left: 0
            position: absolute
            top: 0
            width: 250px
            z-index: -1

          &:hover, &:focus
            &:after,h4,p
              opacity: 1
              transform: scale(1)

      &:last-child
        display: table
        margin: 50px auto 70px

        >*:not(:last-child)
          padding: 0 10%
          text-align: end

        ul
          display: table-cell
          width: 50%

          li
            align-items: center
            background: #fff
            display: inline-table
            display: inline-flex
            flex-direction: column
            height: 250px
            justify-content: center
            letter-spacing: 0.1em
            margin-left: -3px
            text-transform: uppercase
            width: 50%

            &:nth-child(odd)
              border-right: 1px solid darken($bkgd,4%)
              box-sizing: border-box

            &:nth-child(n+3)
              border-top: 1px solid darken($bkgd,4%)

            strong
              font-size: 2.4em

    &#page-guarantees /*GARANTIES*/
      z-index: 0

      article 
        h2
          padding-bottom: 20px

        dl
          counter-reset: guarantee 
          display: flex
          flex-wrap: wrap
          margin-bottom: 70px

          dt, dd
            color: #fff
            display: flex
            flex-direction: column
            height: 340px
            justify-content: center
            margin: 0
            position: relative
            text-align: center
            width: 340px

          dd
            background: lighten($text,8%)
            box-sizing: border-box
            padding: 2%

            &:nth-of-type(2n+1)
              &:after
                left: 0
   
              & + dt
                margin-left: 340px

          dd:hover, dt:hover + dd
            &:nth-of-type(2n+1):after
              transform: translateX(340px)

          dt:hover
            &:nth-of-type(2n):after
              transform: translateX(-340px)

          dt:nth-of-type(2n), dd:nth-of-type(2n+1)
            &:after
              content: ''
              height: 100%
              position: absolute
              top: 0
              transition-duration: 1s
              transition-property: transform
              transition-timing-function: ease
              width: 100%
              z-index: -1

          dt
            background: lighten($text,3%)
            font-weight: 700
            letter-spacing: 0.1em
            text-transform: uppercase

            &:before
              content: "[0" counter(guarantee) "]"
              counter-increment: guarantee
              font-weight: 300

            &:nth-of-type(2n):after
              left: 0

            &#innovate + dd:after
              background: #fff url(../images/guarantees/innovation.svg)no-repeat 50%
              background-size: 40%

            &#visibility:after
              background: #fff url(../images/guarantees/visibility.svg)no-repeat 50%
              background-size: 40%

            &#expertise + dd:after
              background: #fff url(../images/guarantees/expertise.svg)no-repeat 50%
              background-size: 40%

            &#guarantee:after
              background: #fff url(../images/guarantees/guarantee.svg)no-repeat 50%
              background-size: 40%

            &#result + dd:after
              background: #fff url(../images/guarantees/result.svg)no-repeat 50%
              background-size: 40%

            &#accompaniment:after
              background: #fff url(../images/guarantees/accompaniment.svg)no-repeat 50%
              background-size: 40%

    &#page-services/*SERVICES*/
      article
        &:last-child
          &:before
            background: url(../images/bkgd-targets.jpg)

          ul li
            +button(transparent,50px,15px,2px solid $text)
            display: flex
            justify-content: center
            margin-bottom: 20px

            &:hover
              +button($text,50px,15px,2px solid $text)

              a
                color: #fff

          p
            display: flex
            flex-direction: column

    &#page-references/*REFERENCES - TO DO*/

    &#page-contact/*CONTACT*/
      background: url(../images/bkgd-contact.jpg) 0

      article
        background: #fff
        margin-left: 50%
        padding: 4% 8%

        dl
          display: flex
          flex-wrap: wrap
          margin-bottom: 50px

          dt,dl,address, ul li a
            font-size: 1.3em

        dt:first-child, dt:first-child + dd
          padding-right: 4%
          width: 50%

        dt:nth-of-type(2),dt:nth-of-type(2) + dd
          width: 23%

        ul
          margin: 0

          li a
            color: $text

            &:hover
              transform: translateX(8px)          

        dd
          margin-left: 0

        dt
          font-weight: 700
          order: -1
          padding-top: 10px

      aside
        display: none
    
    &#page-quotation/*FORMULAIRE DEVIS*/
      form
        border: 1px solid darken($bkgd,3%)
        background: #fff
        margin: 0 auto 70px
        padding: 8%
        width: 50%

    > aside/*Alors pourquoi pas vous ?*/
      background: url(../images/pourquoi-pas-vous.jpg)100%
      padding: 4%

      h2,p,ul 
        color: #fff
        margin: auto
        text-align: center

      ul 
        display: flex
        justify-content: center

        li
          +button(#fff,25px,7px 20px,2px solid #fff)
          margin: 15px 10px

          &:hover
            +button($text,25px,7px 20px,2px solid $text)
            
            a
              color: #fff

        li + li
          +button(transparent,25px,7px 20px,2px solid #fff)

          &:hover
            +button(transparent,25px,7px 20px,2px solid $text)

            a
              color: $text

          a 
            color: #fff
        
    footer/*FOOTER*/
      background: $text
      color: #fff
      display: flex
      font-weight: 300
      padding: 20px
        
      a
        color: #fff

        &:hover
          transform: translateX(8px)

      section
        flex: 1

        &:first-child
          padding: 0 3% 0 10%
          position: relative

          &:before
            background: url(../images/logo-footer.svg)no-repeat
            content: ''
            height: 100%
            left: 0
            position: absolute
            width: 22%

        &#more
          display: flex
          font-size: 1.15em
          position: relative

          h2
            background: $text
            color: $primary
            left: calc(50% - 76px)
            padding: 5px 10px
            position: absolute
            top: -5px
            z-index: 1

          ul
            align-self: center
            border: 2px solid $primary
            display: flex
            margin: 0 auto
            padding: 15px 20px

            li a:hover
              transform: translateY(-5px)
            
            li:first-of-type
              &:after
                content: '-'
                padding: 8px

      h2, ul,address
        font-size: .8em

      ul
        margin-top: 0



